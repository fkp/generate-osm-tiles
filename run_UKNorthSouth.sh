projection27700m="+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs"
mapnikconfig="/etc/mapnik-osm-carto-data/osm_OSGB.xml"

# These coordinates can clip out areas we are not interested in
extentWKT27700mNorth="POLYGON ((313703.539588775 992862.642736197,265284.661419902 974417.355814722,269895.983150271 927151.308078441,257214.848391757 896024.886398451,144237.46599772 968653.20365176,96971.418261439 915623.003752519,230699.748442136 837230.534336248,292952.591802115 802645.621358481,327537.504779882 813021.095251811,337912.978673212 780741.843139229,273354.474448048 773824.860543676,228394.087576951 719641.830211842,191503.513734001 755379.573622201,152307.279025865 716183.338914065,186892.192003632 683904.086801483,145390.296430312 608970.108682989,189197.852868816 589371.991328922,188045.022436224 542105.943592641,235311.070172505 536341.79142968,294105.422234708 528271.978401534,374803.552516163 575538.026137815,426680.921982812 672375.782475561,387484.687274677 719641.830211842,443973.378471696 860287.142988092,405929.974196153 900636.20812882,303328.065695445 887955.073370305,366733.739488017 968653.20365176,313703.539588775 992862.642736197))"
extentWKT27700mSouth="POLYGON ((317162.030886552 108641.700937968,412846.956791706 175505.866028317,404777.14376356 242370.031118665,443973.378471696 275802.113663839,497003.578370938 264273.809337917,522365.847887966 236605.878955704,514296.034859821 193951.152949792,566173.40432647 203173.79641053,663011.160664217 181270.018191278,658399.838933848 121322.835696482,590382.843410907 82126.6009883472,456654.51323021 59069.9923365029,333301.656942843 59069.9923365029,305633.72656063 82126.6009883472,317162.030886552 108641.700937968))"
basedirNorth=50KNorth
basedirSouth=50KSouth
threads=3

mincoordx=0
mincoordy=0
maxcoordx=700000
maxcoordy=1300000

# Something which looks like OS50K tiles
./GenerateTiles.py --threads ${threads} --basedir ${basedirNorth} --imgsize 4000 --flatdirectorystructure --scale 2 --mincoordx ${mincoordx} --mincoordy ${mincoordy} --maxcoordx ${maxcoordx} --maxcoordy ${maxcoordy} --coordsincrementx 20000 --coordsincrementy 20000 "${projection27700m}" ${mapnikconfig} "${extentWKT27700mNorth}" 50
./GenerateTiles.py --threads ${threads} --basedir ${basedirSouth} --imgsize 4000 --flatdirectorystructure --scale 2 --mincoordx ${mincoordx} --mincoordy ${mincoordy} --maxcoordx ${maxcoordx} --maxcoordy ${maxcoordy} --coordsincrementx 20000 --coordsincrementy 20000 "${projection27700m}" ${mapnikconfig} "${extentWKT27700mSouth}" 50

